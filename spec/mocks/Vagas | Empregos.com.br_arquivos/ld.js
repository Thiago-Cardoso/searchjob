if(!window.criteo_q||window.criteo_q instanceof Array){var hasPerformance="undefined"!==typeof performance&&"function"===typeof performance.now,beginInit=hasPerformance?performance.now():null,oldQueue=window.criteo_q||[];window.criteo_q=function(){function m(a){for(var b=document.cookie.split(";"),d=0;d<b.length;d++){var f=b[d],c=f.substr(0,f.indexOf("=")).replace(/^\s+|\s+$/g,""),f=f.substr(f.indexOf("=")+1);if(c===a)return(decodeURIComponent||unescape)(f)}return null}function I(a,b){if(a&&1<a.length){"?"===
a[0]&&(a="&"+a.substr(1));var d="&"+b+"=",f=a.indexOf(d);if(-1!==f){var c=a.indexOf("&",f+d.length);return a.slice(f+d.length,0>c?void 0:c)}}}var D=[],q=function(a,b){try{return void 0===b?a():a.apply(this,b)}catch(d){D.push(d)}},s=function(a,b){q(function(){if(!("undefined"===typeof window||"function"!==typeof window.setTimeout))return window.setTimeout(a,b)})},E=function(a,b,d,f){q(function(){if(!("undefined"===typeof a||"function"!==typeof a.addEventListener))return a.addEventListener(b,d,f)})},
J=function(a,b,d){q(function(){if(!("undefined"===typeof a||"function"!==typeof a.attachEvent))return a.attachEvent(b,d)})},u=function(a){s(function(){null!==a&&null!==a.parentElement&&a.parentElement.removeChild(a)},3E4)},F=function(){var a=navigator.userAgent.match(/^Mozilla\/5\.0 \([^)]+\) AppleWebKit\/[^ ]+ \(KHTML, like Gecko\) Version\/([^ ]+)( Mobile\/[^ ]+)? Safari\/[^ ]+$/i),b=!!a,a=a&&11<=parseFloat(a[1]);return{is_safari:b,has_itp:a}}(),c={bodyReady:!1,domReady:!1,queue:[],actions:[],disingScheduled:[],
accounts:[],acid:null,axid:null,pxsig:null,idcpy:null,idfs:null,idfs_read:!1,sid:null,sid_read:!1,tld:null,optout:!1,ccp:null,cop:null,ua:F,syncframe_loading:F.is_safari,waiting_syncframe:F.has_itp,is_cbs_enabled:!1},e={tagVersion:"4.7.0",handlerUrlPrefix:("https:"===document.location.protocol?"https://sslwidget.":"http://widget.")+"criteo.com/event",handlerResponseType:"single",responseType:"js",handlerParams:{v:"4.7.0"},extraData:[],customerInfo:[],manualDising:!1,manualFlush:!1,disOnce:!1,partialDis:!1,
idfsCookieName:"cto_idfs",guidCookieName:"cto_idcpy",secureIdCookieName:"cto_sid",lwidCookieName:"cto_lwid",guidCookieRetentionTimeHours:9490,optoutCookieName:"cto_optout",optoutCookieRetentionTimeHours:43800,gumSyncFrameEndPoint:window.CriteoSyncFrameUrlOverride||"https://gum.criteo.com/syncframe",gumSyncFrameId:"criteo-syncframe",forceSyncFrame:!1,eventMap:{applaunched:"al",viewitem:"vp",viewhome:"vh",viewlist:"vl",viewbasket:"vb",viewsearch:"vs",tracktransaction:"vc",addtocart:"ac",calldising:"dis",
setdata:"exd",setemail:"ce"},propMap:{event:"e",account:"a",currency:"c",product:"p",item:"p","item.id":"i","item.price":"pr","item.quantity":"q","product.id":"i","product.price":"pr","product.quantity":"q",data:"d",keywords:"kw",checkin_date:"din",checkout_date:"dout",deduplication:"dd",delivery:"dl",attribution:"at","attribution.channel":"ac","attribution.value":"v",user_segment:"si",new_customer:"nc",customer_id:"ci",email:"m",hash_method:"h",transaction_value:"tv",responseType:"rt",page_name:"pn",
page_id:"pi",page_number:"pnb",category:"ca",filters:"f","filters.name":"fn","filters.operator":"fo","filters.value":"fv",retailer_visitor_id:"rvi",price:"pr",availability:"av",sub_event_type:"se",store_id:"s",zipcode:"z"},setters:{seturl:{cfg:"handlerUrlPrefix",evt:"url"},setaccount:{cfg:"account",evt:"account"},setuat:{cfg:"uat",evt:"uat"},setcalltype:{cfg:"handlerResponseType",evt:"type"},setresponsetype:{cfg:"responseType",evt:"type"},setpartnerpayload:{cfg:"partnerPayload",evt:"payload"},oninitialized:{cfg:"onInitialized",
evt:"callback"},ondomready:{cfg:"onDOMReady",evt:"callback"},beforeappend:{cfg:"beforeAppend",evt:"callback"},aftereval:{cfg:"afterEval",evt:"callback"},onflush:{cfg:"onFlush",evt:"callback"}},flags:{disonce:"disOnce",manualdising:"manualDising",manualflush:"manualFlush",nopartialflush:"noPartialFlush",disonpartialflush:"partialDis"}},l={initTime:null,pushTime:null},v=function(a,b,d){var f=new Date;f.setTime(f.getTime()+36E5*d);d="expires="+f.toUTCString();for(var f=document.location.hostname.split("."),
c=null,e=0;e<f.length;++e){var c=f.slice(f.length-e-1,f.length).join("."),k="domain=."+c;document.cookie=a+"="+(encodeURIComponent||escape)(b)+";"+d+";"+k+";path=/";if((k=m(a))&&k===b)break}return c||document.location};c.tld=function(){var a=v("cto_tld_test","woot",1);v("cto_tld_test","",0);return a}();var P=function(){var a,b=document.createElement("iframe"),d=encodeURIComponent||escape;a=window;var f=!1;try{for(;a.parent.document!==a.document;)if(a.parent.document)a=a.parent;else{f=!0;break}}catch(g){f=
!0}var h="";if(f)try{if(h=a.top.location.href,!h)var k=a.location.ancestorOrigins,h=k[k.length-1]}catch(m){h=a.document.referrer}else h=a.location.href;f=h;k=document.createElement("a");k.href=f;d=d(k.hostname);f={uid:c.idcpy,idfs:c.idfs,optout:c.optout,sid:c.sid,lwid:c.lwid,tld:c.tld,origin:window.SYNCFRAME_ORIGIN||"onetag",version:e.tagVersion.replace(/\./g,"_"),topUrl:d};k=e.gumSyncFrameEndPoint;k="#gum-debug-mode"===window.location.hash?k+("?debug=1&topUrl="+d):k+("?topUrl="+d);k+="#"+JSON.stringify(f);
b.src=k;b.id=e.gumSyncFrameId;b.width=0;b.height=0;b.frameBorder=0;b.setAttribute("style","border-width:0px; margin:0px; display:none");u(b);return b},y=function(a,b,d){v(a,b,d);if(window.localStorage)try{window.localStorage.setItem(a,b)}catch(c){}},z=function(a){var b;window.localStorage&&(b=window.localStorage.getItem(a));return m(a)||b},A=function(a){v(a,"",0);window.localStorage&&window.localStorage.removeItem(a)},Q=function(){var a=hasPerformance?performance.now():(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,
function(b){var d=(a+16*Math.random())%16|0;a=Math.floor(a/16);return("x"===b?d:d&3|8).toString(16)})},R=function(a){c.waiting_syncframe=c.waiting_syncframe&&!a.idcpy&&!a.sid&&!a.optout&&!a.idfs;c.waiting_syncframe&&s(function(){c.waiting_syncframe&&(c.waiting_syncframe=!1,w())},1E4)},S=function(){if(c.syncframe_loading&&window.addEventListener||e.forceSyncFrame){var a=P(),b=function(a){var b=a.data;if(b&&b.isCriteoMessage){a.stopPropagation();c.syncframe_loading=!1;c.idfs_read=b.idfsRead;if(b.optout)c.optout=
!0,y(e.optoutCookieName,"1",e.optoutCookieRetentionTimeHours),A(e.guidCookieName),A(e.idfsCookieName),A(e.secureIdCookieName);else if(b.uid||b.idfs||b.sid)b.uid&&(a=b.uid,c.idcpy=a,y(e.guidCookieName,a,e.guidCookieRetentionTimeHours)),b.idfs&&(a=b.idfs,c.idfs=a,y(e.idfsCookieName,a,e.guidCookieRetentionTimeHours)),b.removeSid?A(e.secureIdCookieName):b.sid&&(b=b.sid,c.sid=b,c.sid_read=!0,y(e.secureIdCookieName,b,e.guidCookieRetentionTimeHours));c.waiting_syncframe&&c.waiting_syncframe&&(c.waiting_syncframe=
!1,w())}};window.addEventListener&&(E(window,"message",b,!0),c.queue.push({event:"appendtag",element:a}))}else c.syncframe_loading=!1},G=function(a){if(a&&a.referrer){var b=a.createElement("a");b.href=a.referrer;return b}return null};q(function(){c.idcpy=z(e.guidCookieName);c.optout=Boolean(z(e.optoutCookieName));c.idfs=z(e.idfsCookieName);c.sid=z(e.secureIdCookieName);var a=m(e.lwidCookieName);a||(v(e.lwidCookieName,Q(),e.guidCookieRetentionTimeHours),a=m(e.lwidCookieName));c.lwid=a||"NA";var a=
m("criteo_acid"),b=m("cto_axid"),d=m("cto_pxsig"),f=m("cto_optout");null===a&&null===b&&null===f&&null===d?(a=new Date,a.setTime(a.getTime()+1E4),a="expires="+a.toUTCString(),document.cookie=["criteo_write_test=ChUIBBINbXlHb29nbGVSdGJJZBgBIAE","path=/",a].join("; "),a=m("criteo_write_test"),c.canWriteCookie=null!==a,document.cookie="criteo_write_test=; path=/; expires=Thu, 01 Jan 1970 00:00:00 UTC"):(c.acid=a,c.axid=null!==f?"optout":b,c.pxsig=d,c.canWriteCookie=!0);var a=window,g,h;try{h=a.top.location.search}catch(k){b=
a;try{for(;b.parent.document!==b.document;)if(b.parent.document)b=b.parent;else break}catch(n){}if(b&&(b=G(b.document)))h=b.search}h&&(g=I(h,"cto_pld"));if(!g)try{var l=G(a.top.document);l&&l.search&&(g=I(l.search,"cto_pld"))}catch(p){}g&&(c.cop=g);R(c)});q(function(){var a=m("criteo_cookie_perm");null!==a&&(c.ccp=a)});var U=function(a){(function d(){document.body?s(a,0):s(d,10)})()},B=function(a){return"undefined"===typeof a||""===a},x=function(a,b){c.is_cbs_enabled&&B(a.page_id)&&(a.page_id=b)},
V=function(a,b){if("complete"===a.readyState)b();else if(a.addEventListener)E(a,"DOMContentLoaded",b,!1),E(window,"load",b,!1);else{J(a,"onreadystatechange",b);J(window,"onload",b);var d=!1;try{d=null===window.frameElement&&document.documentElement}catch(c){}if(d&&d.doScroll)(function T(){if(d){try{d.doScroll("left")}catch(a){return s(T,50)}b()}})();else{var e=!1,h=a.onload,k=a.onreadystatechange;a.onload=a.onreadystatechange=function(){k instanceof Function&&k();if(!e&&(!a.readyState||"loaded"===
a.readyState||"complete"===a.readyState))h instanceof Function&&h(),e=!0,b()}}}},K=function(){q(function(){for(var a=hasPerformance?performance.now():null,d=0;d<arguments.length;++d)c.queue.push(arguments[d]);w();d=!1;if(200<e.extraData.length)d=!0;else for(var f=0;f<e.extraData.length;++f){var g=e.extraData[f],h=0;if(Object.keys)h=Object.keys(g).length;else for(var k in g)Object.prototype.hasOwnProperty.call(g,k)&&(h+=1);if(200<h){d=!0;break}}d&&(e.extraData=[]);e.customerInfo=[];c.is_cbs_enabled=
!1;null!==a&&(null===l.pushTime&&null!==l.initTime)&&(k=performance.now(),l.pushTime=k-a)},arguments);if(hasPerformance&&null===l.initTime){var a=performance.now();l.initTime=a-beginInit}},w=function(){for(var a=[],b=c.queue,d=0;d<b.length;++d){var f=b[d];if(f instanceof Array)b.splice.apply(b,[d+1,0].concat(f));else if(f instanceof Function)b.splice(d+1,0,f());else if(f&&"[object Object]"===f.toString())switch(r(f,d,b,a)){case 0:a.push(f);break;case -1:a=a.concat(b.slice(d)),d=b.length}}e.afterEval instanceof
Function&&(a=e.afterEval(b,a,c,e));c.queue=a||[];!e.manualFlush&&((!e.noPartialFlush||0===c.queue.length)&&!c.waiting_syncframe)&&L(0!==c.queue.length)},r=function(a,b,d,f){if(!c.domReady&&a.requiresDOM&&"no"!==a.requiresDOM)return"blocking"===a.requiresDOM?-1:0;delete a.requiresDOM;if(!a.event)return n(a),1;a.account&&H(a.account,c.accounts);var g=a.event;a.event=a.event.toLowerCase();switch(a.event){case "setdata":return a=n(a),M(a),N(c.actions,n(a)),1;case "setparameter":for(var h in a)"event"!==
h.toLowerCase()&&a.hasOwnProperty(h)&&(e.handlerParams[h]=a[h]);return 1;case "calldising":a.hasOwnProperty("account")||(a.account=c.accounts);b=e.handlerResponseType;a.hasOwnProperty("type")&&(b=a.type,delete a.type);H(a.account,c.disingScheduled);"sequential"===b&&(a.dc=!0);break;case "setzipcode":case "setstore":return a.event="setdata",r(a);case "setcustomerid":return a.event="setdata",a.customer_id=a.id,delete a.id,r(a);case "setretailervisitorid":return c.is_cbs_enabled=!0,a.event="setdata",
a.retailer_visitor_id=a.id,delete a.id,r(a);case "setemail":case "sethashedemail":case "ceh":a.event="setemail";if(a.hasOwnProperty("email")){a.email instanceof Array||(a.email=[a.email]);b=a.email;d=[];for(f=0;f<b.length;f++)void 0!==b[f]&&null!==b[f]&&d.push(String(b[f]));a.email=d}b=n(a);e.customerInfo.push(b);O(c.actions,n(a));return 1;case "setsitetype":b="d";if("mobile"===a.type||"m"===a.type)b="m";if("tablet"===a.type||"t"===a.type)b="t";a.event="setdata";delete a.type;a.site_type=b;return r(a);
case "appendtag":if(c.bodyReady&&(!e.container||!document.body.contains(e.container)))(b=document.body)?(d=document.createElement("div"),d.setAttribute("id","criteo-tags-div"),d.style.display="none",b.appendChild(d),b=d):b=void 0,e.container=b;a.url&&(a.isImgUrl?(b=document.createElement("img"),b.setAttribute("style","display:none;"),b.setAttribute("width","1"),b.setAttribute("height","1")):(b=document.createElement("script"),b.setAttribute("async","true"),b.setAttribute("type","text/javascript")),
b.setAttribute("src",a.url),a.element=b);e.beforeAppend instanceof Function&&(a.element=e.beforeAppend(a.element,c,e));n(a);if(a.element&&(a.element.tagName||a.isImgUrl))if(!e.container&&("script"===a.element.tagName.toLowerCase()||a.isImgUrl))b=document.getElementsByTagName("script")[0],a.element.setAttribute("data-owner","criteo-tag"),b.parentNode.insertBefore(a.element,b),u(a.element);else if(e.container)e.container.appendChild(a.element),u(a.element);else return 0;return 1;case "gettagstate":return a.callback instanceof
Function?a.callback(c,e):1;case "viewsearchresult":case "viewcategory":x(a,g);a.event="viewlist";break;case "viewlist":c.is_cbs_enabled&&B(a.page_id)&&(B(a.category)?B(a.keywords)?a.page_id="viewList":a.page_id="viewSearchResult":a.page_id="viewCategory");break;case "viewitem":case "viewhome":case "viewbasket":case "tracktransaction":case "addtocart":x(a,g);break;case "viewstore":x(a,g);a.event="viewHome";a.sub_event_type="s";break;case "checkavailability":x(a,g);a.event="viewBasket";a.sub_event_type=
"a";break;case "reserveinstore":x(a,g);a.event="viewBasket";a.sub_event_type="r";break;case "flush":case "flushevents":return L(b!==d.length-1||0!==f.length),1}if(b=e.setters[a.event])return e[b.cfg]=a[b.evt],1;if(b=e.flags[a.event])return e[b]=!0,1;c.actions.push(n(a));return 1},L=function(a){e.onFlush instanceof Function&&(c.actions=e.onFlush(c.actions,c,e));if(0!==c.actions.length){for(var b=0;b<e.extraData.length;++b)N(c.actions,e.extraData[b]);for(b=0;b<e.customerInfo.length;++b)O(c.actions,
e.customerInfo[b]);if(!e.manualDising&&(!a||e.partialDis)){a=[];for(b=0;b<c.accounts.length;++b)C(c.disingScheduled,c.accounts[b])||a.push(c.accounts[b]);0<a.length&&r({event:"callDising",account:a})}a=c.actions;b=[];1===c.accounts.length&&(e.account=c.accounts[0]);e.account&&b.push("a="+p(e.account,[]));"js"!==e.responseType&&b.push("rt="+p(e.responseType,[]));if(e.handlerParams){var d=decodeURIComponent(p(e.handlerParams,[]));d&&b.push(d)}e.uat&&c.is_cbs_enabled&&b.push("uat="+(encodeURIComponent||
escape)(e.uat));for(d=0;d<a.length;++d)a[d].account&&t(e.account,a[d].account)&&delete a[d].account,b.push("p"+d+"="+p(a[d],[]));null!==c.acid&&b.push("acid="+c.acid);null!==c.axid&&b.push("axid="+c.axid);null!==c.pxsig&&b.push("pxsig="+c.pxsig);c.canWriteCookie&&b.push("adce=1");null!==c.ccp&&b.push("ccp="+c.ccp);null!==c.cop&&b.push("cop="+c.cop);c.idcpy&&(b.push("idcpy="+c.idcpy),b.push("iddom="+document.location.hostname));c.idfs&&b.push("idfs="+c.idfs);c.idfs_read&&b.push("idfs_read=1");c.optout&&
b.push("optout=1");c.sid&&(b.push("sid="+c.sid),b.push("sid_read="+(c.sid_read?"1":"0")));c.lwid&&b.push("lwid="+c.lwid);c.tld&&b.push("tld="+c.tld);m("cto_clc")&&b.push("clc=1");e.partnerPayload&&b.push("pp="+p(e.partnerPayload,[]));b.push("dtycbr="+Math.floor(1E5*Math.random()));a=b.join("&");a={event:"appendTag",url:e.handlerUrlPrefix+"?"+a,isImgUrl:"gif"===e.responseType};c.actions=[];r(a);e.disOnce||(c.disingScheduled=[])}},M=function(a){for(var b=0;b<e.extraData.length;++b){var d=e.extraData[b];
if(d.event===a.event&&("undefined"===typeof a.account&&"undefined"===typeof d.account||t(a.account,d.account))){for(var c in a)"account"!==c&&(d[c]=a[c]);return}}e.extraData.push(a)},N=function(a,b){for(var d=0;d<a.length;++d){var c=a[d];if(c.event===b.event&&t(b.account,c.account)){for(var e in b)b.hasOwnProperty(e)&&"account"!==e&&(c[e]=b[e]);return}}a.push(b)},O=function(a,b){for(var d=0;d<a.length;++d){var c=a[d];if(c.event===b.event&&t(b.account,c.account)&&("hash_method"in b?b.hash_method:"")===
("hash_method"in c?c.hash_method:"")){if(b.hasOwnProperty("email")){for(var d=c,c=c.email,e=b.email,h=[],k=0;k<e.length;++k)C(c,e[k])||h.push(e[k]);c=c.concat(h);d.email=c}return}}a.push(b)},n=function(a){var b=a;if(a instanceof Function)return b=a(),b instanceof Function?b:n(b);if(a instanceof Array)for(var b=[],d=0;d<a.length;++d)b[d]=n(a[d]);else if(a&&"[object Object]"===a.toString())for(d in b={},a)a.hasOwnProperty(d)&&(b[d]=n(a[d]));return b},W=function(a,b){var d=b.join(".");return e.propMap[d]?
e.propMap[d]:a},t=function(a,b){if(!(a instanceof Array))return t([a],b);if(!(b instanceof Array))return t(a,[b]);if(a.length!==b.length)return!1;for(var d=0;d<a.length;++d)if(!C(b,a[d]))return!1;return!0},p=function(a,b){var d="";if(a instanceof Function)d=p(a(),b);else if(a instanceof Array){for(var c=[],g=0;g<a.length;++g)c[g]=p(a[g],b);d+="["+c.join(",")+"]"}else if(a&&"[object Object]"===a.toString()){c=[];for(g in a)if(a.hasOwnProperty(g)){var h=b.concat([g]);c.push(W(g,h)+"="+p(a[g],h))}d+=
c.join("&")}else d=1===b.length&&"event"===b[0]?d+(e.eventMap[a.toLowerCase()]?e.eventMap[a.toLowerCase()]:a):d+a;return(encodeURIComponent||escape)(d)},H=function(a,b){if(a instanceof Array)for(var c=0;c<a.length;++c)H(a[c],b);else C(b,a)||b.push(a)},C=function(a,b){for(var c=JSON.stringify||encodeURIComponent||escape,e=c(b),g=0;g<a.length;++g)if(a[g]===b||c(a[g])===e)return!0;return!1},X=function(a){try{var b=G(a);b&&b.hostname!==a.location.hostname&&M({event:"setData",ref:b.protocol+"//"+b.hostname})}catch(c){}},
Y=function(a,b){if(a&&b){var c=/^\#(enable|disable)-criteo-tag-debug-mode(\=(\d+))?$/.exec(b);if(c&&4===c.length){var e="enable"===c[1],g=c[3],c="criteoTagDebugMode=";e&&(g&&!isNaN(g))&&(c+=parseInt(g,10));e=e?(new Date).getTime()+864E5:0;e="expires="+(new Date(e)).toUTCString();document.cookie=[c,"path=/",e].join("; ");window.location.href=window.location.href.substr(0,window.location.href.indexOf("#"))}}},Z=function(a){if(a){var b=a.createElement("script");b.setAttribute("type","text/javascript");
b.setAttribute("src",a.location.protocol+"//static.criteo.net/js/ld/ld-tag-debug.4.7.0.js");a=a.getElementsByTagName("script")[0];a.parentNode.insertBefore(b,a)}};return q(function(){U(function(){c.bodyReady=e.onInitialized instanceof Function?e.onInitialized(c,e):!0;S();w()});V(document,function(){c.domReady=e.onDOMReady instanceof Function?e.onDOMReady(c,e):!0;w()});X(document);Y(document,window.location.hash);var a;a=document?"function"!==typeof Array.prototype.indexOf?!1:-1!==document.cookie.indexOf("criteoTagDebugMode="):
!1;if(a){var b={originalPush:K,stagedPushes:[],stagedErrors:[],m_state:c,m_config:e,setProtectedTimeout:s,removeLater:u,performances:l,exceptions:D,push:function(){0<arguments.length&&this.stagedPushes.push(arguments);hasPerformance&&null===l.initTime&&(l.initTime=performance.now()-beginInit)},pushError:function(a){this.stagedErrors.push(a)}};window.onerror=function(a){return function(c,e,h,k){b.pushError({message:c,url:e,lineNumber:h,column:k});return a&&"function"===typeof a?a.apply(this,arguments):
!1}}(window.onerror);Z(document);return b}return{push:K,removeLater:u,performances:l,exceptions:D}})}();window.criteo_q.push.apply(window.criteo_q,oldQueue)};
